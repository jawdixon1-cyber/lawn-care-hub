@import "tailwindcss";
@plugin "@tailwindcss/typography";
@custom-variant dark (&:is(.dark *));

/* ─── Light mode (default) ─── */
:root {
  --color-surface: #f9fafb;       /* gray-50 */
  --color-card: #ffffff;           /* white */
  --color-surface-alt: #f3f4f6;   /* gray-100 */
  --color-surface-strong: #e5e7eb; /* gray-200 */

  --color-primary: #111827;        /* gray-900 */
  --color-secondary: #374151;      /* gray-700 */
  --color-tertiary: #6b7280;       /* gray-500 */
  --color-muted: #9ca3af;          /* gray-400 */
  --color-on-brand: #ffffff;

  --color-border-subtle: #f3f4f6;  /* gray-100 */
  --color-border-default: #e5e7eb; /* gray-200 */
  --color-border-strong: #d1d5db;  /* gray-300 */

  --color-brand-light: #ecfdf5;    /* emerald-50 */
  --color-brand: #059669;          /* emerald-600 */
  --color-brand-hover: #047857;    /* emerald-700 */
  --color-brand-text: #059669;     /* emerald-600 */
  --color-brand-text-strong: #047857; /* emerald-700 */
  --color-border-brand: #059669;   /* emerald-600 */
  --color-ring-brand: #10b981;     /* emerald-500 */
  --color-placeholder-muted: #9ca3af; /* gray-400 */
}

/* ─── Dark mode ─── */
.dark {
  --color-surface: #0f172a;        /* slate-900 */
  --color-card: #1e293b;           /* slate-800 */
  --color-surface-alt: #334155;    /* slate-700 */
  --color-surface-strong: #475569; /* slate-600 */

  --color-primary: #f8fafc;        /* slate-50 */
  --color-secondary: #cbd5e1;      /* slate-300 */
  --color-tertiary: #94a3b8;       /* slate-400 */
  --color-muted: #64748b;          /* slate-500 */
  --color-on-brand: #ffffff;

  --color-border-subtle: #334155;  /* slate-700 */
  --color-border-default: #475569; /* slate-600 */
  --color-border-strong: #64748b;  /* slate-500 */

  --color-brand-light: #064e3b;    /* emerald-900 */
  --color-brand: #10b981;          /* emerald-500 */
  --color-brand-hover: #059669;    /* emerald-600 */
  --color-brand-text: #34d399;     /* emerald-400 */
  --color-brand-text-strong: #10b981; /* emerald-500 */
  --color-border-brand: #10b981;   /* emerald-500 */
  --color-ring-brand: #34d399;     /* emerald-400 */
  --color-placeholder-muted: #64748b; /* slate-500 */
}

/* ─── Register tokens with Tailwind v4 ─── */
@theme {
  --color-surface: var(--color-surface);
  --color-card: var(--color-card);
  --color-surface-alt: var(--color-surface-alt);
  --color-surface-strong: var(--color-surface-strong);

  --color-primary: var(--color-primary);
  --color-secondary: var(--color-secondary);
  --color-tertiary: var(--color-tertiary);
  --color-muted: var(--color-muted);
  --color-on-brand: var(--color-on-brand);

  --color-border-subtle: var(--color-border-subtle);
  --color-border-default: var(--color-border-default);
  --color-border-strong: var(--color-border-strong);

  --color-brand-light: var(--color-brand-light);
  --color-brand: var(--color-brand);
  --color-brand-hover: var(--color-brand-hover);
  --color-brand-text: var(--color-brand-text);
  --color-brand-text-strong: var(--color-brand-text-strong);
  --color-border-brand: var(--color-border-brand);
  --color-ring-brand: var(--color-ring-brand);
  --color-placeholder-muted: var(--color-placeholder-muted);
}

.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

/* ─── Unlock animation ─── */
@keyframes unlock-backdrop-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes unlock-backdrop-out {
  from { opacity: 1; }
  to { opacity: 0; }
}
@keyframes unlock-icon-shake {
  0%, 100% { transform: rotate(0deg) scale(1); }
  10% { transform: rotate(-12deg) scale(1.1); }
  20% { transform: rotate(12deg) scale(1.1); }
  30% { transform: rotate(-8deg) scale(1.15); }
  40% { transform: rotate(8deg) scale(1.15); }
  50% { transform: rotate(0deg) scale(1.2); }
}
@keyframes unlock-icon-burst {
  0% { transform: scale(1.2); opacity: 1; }
  50% { transform: scale(1.6); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
@keyframes unlock-ring {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.8); opacity: 0.4; }
  100% { transform: scale(2.6); opacity: 0; }
}
@keyframes unlock-text-in {
  0% { opacity: 0; transform: translateY(16px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes unlock-particle {
  0% { transform: translate(0, 0) scale(1); opacity: 1; }
  100% { transform: translate(var(--px, 0), var(--py, 0)) scale(0); opacity: 0; }
}
.unlock-overlay-in { animation: unlock-backdrop-in 0.4s ease-out forwards; }
.unlock-overlay-out { animation: unlock-backdrop-out 0.6s ease-in forwards; }
.unlock-icon-shake { animation: unlock-icon-shake 0.8s ease-in-out forwards; }
.unlock-icon-burst { animation: unlock-icon-burst 0.5s 0.8s ease-out forwards; }
.unlock-ring-1 { animation: unlock-ring 1s 0.8s ease-out forwards; }
.unlock-ring-2 { animation: unlock-ring 1s 1s ease-out forwards; }
.unlock-text { animation: unlock-text-in 0.5s 1.2s ease-out both; }
